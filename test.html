<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <header></header>
    <main>
        <div id="mainXXX">

        </div>
    </main>
    <footer></footer>

<script>
    keys = {
        '0': {'0':1,'1':2,'2':3,'3':4,'4':5,'5':6,'6':7,'7':8,'8':9,'9':0,'length':10},
        '1': {'0':q,'1':w,'2':e,'3':r,'4':t,'5':y,'6':u,'7':i,'8':o,'9':p,'length':10},
        '2': {'0':a,'1':s,'2':d,'3':f,'4':g,'5':h,'6':j,'7':k,'8':l,'length':9},
        '3': {'0':z,'1':x,'2':c,'3':v,'4':b,'5':n,'6':m,'length':7},
        'length': 4
    }
    hash = {'q':qq.com,'w':weibo.com,'e':ele.me,'r':renren.com}
    
    index = 0
    while(index<keys['length']){
        divXXX = document.createElement('div')
        
    }


    index2 = 0
    while(index2<row['length']){
        kbdXXX = document.createElement('kbd')
        kbdXXX.textContent = row[index2]
        buttonX = document.createElement('button')
        buttonX.textContent = '编辑'
        buttonX.id = row[index]
        buttonX.onclick = function(dcve){
            key2 = dcve['target']['id']
            x = prompt('允许你输入一个网址')
            hash[key2] = x
        }
    }
    kbdXXX.appendChild(buttonX)

let a = yy.currentTarget
let href = a.getAttribute('href')
console.log(href)
let href2 = a.href
console.log(href2)  


let aTags = document.querySelectorAll('#topNavBar nav>ul>li>a')
console.log(aTags)
for(let i = 0; i < aTags.length; i++){
    aTags[i].onclick = function(yy){
        yy.preventDefault()
        let a = yy.currentTarget
        let href = a.getAttribute('href')
        let element = document.querySelector(href)
        let top = element.offsetTop
        let targetTop = top - 80
        let n = 25;//在一次滚动过程中总的运动次数
        let t = 500;//总运动时间
        let delay = t/n
        let currentTop = window.scrollY
        let s = targetTop - currentTop
        let dy = s/n;//每一小步运动距离
        let i = 1
        let id = window.setInterval(()=>{
            if(i == n){
                window.clearInterval(id)
            }
            window.scrollTo(0,currentTop+dy*i)
            i = i + 1
        },delay)
    }
}


 // Setup the animation loop.
 function animate(time) {
    requestAnimationFrame(animate);
    TWEEN.update(time);
}
requestAnimationFrame(animate);
for(let i = 0; i < aTags.length; i++){
    aTags[i].onclick = function(yy){
        yy.preventDefault()
        let a = yy.currentTarget
        let href = a.getAttribute('href')
        let element = document.querySelector(href)
        let top = element.offsetTop
        let targetTop = top - 80
        let currentTop = window.scrollY
        let s = targetTop - currentTop
        let time =Math.abs(500*s/100)
        time = (time > 1000)?1000:time
        console.log(time)
        var coords = { y: currentTop};
        var tween = new TWEEN.Tween(coords) 
            .to({ y: targetTop }, time) 
            .easing(TWEEN.Easing.Exponential.InOut) 
            .onUpdate(function() { 
                window.scrollTo(0,coords.y)
            })
            .start();
    }
}
</script>
</body>
</html>